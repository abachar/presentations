<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/monokai_sublime.min.css" />
	<link rel="stylesheet" href="assets/keynote.js/keynote.css" />

	<title>Brace yourselves, ES6 is coming</title>
</head>

<body>
	<div class="presentation">

		<header class="slide welcome">
			<h1>Brace yourselves<br />ES6 is coming</h1>
			<footer>Abdelhakim Bachar - <a href="http://twitter.com/a_bachar">@a_bachar</a></footer>
		</header>

		<div class="slide">
			<h1>What is ES6 ?</h1>

			<ul>
				<li>ECMAScript is a scripting language specification standardized by <u>Ecma International</u></li>
				<li>ES6 is the next-generation of javascript also known as ECMAScript 6 or ES Harmony</li>
				<li>ES2015</li>
				<li>Approved June 2015</li>
			</ul>
		</div>

		<header class="slide">
			<h1>ES6 Features</h1>
		</header>
		<div class="slide">
			<h1>Constants</h1>
			<p>The <strong>const</strong> declaration creates a read-only reference to a value. It does not mean the value it holds is immutable, solely that the variable identifier can not be reassigned.</p>
			<pre><code class="js">
'use strict';

const PI = 3.14;
console.log(PI); // Will print 3.14

PI = 10;
// => TypeError: Assignment to constant variable.
			</code></pre>
		</div>
		<div class="slide">
			<h1>Scoping</h1>
			<p>The <strong>let</strong> statement declares a block scope local variable, optionally initializing it to a value.</p>
			<pre><code class="javascript">
function scoping() {
	var withVar = 10; let withLet = 20;

	if (true) {
		var withVar = 11; let withLet = 21;

		console.log(withVar);  // 11
		console.log(withLet);  // 21
	}
	console.log(withVar);  // 11
	console.log(withLet);  // 20
}
			</code></pre>
		</div>
		<div class="slide">
			<h1>Arrow function</h1>
			<p>Arrows are a function shorthand using the => syntax. They are syntactically similar to the related feature Java 8. They support both statement block bodies as well as expression bodies which return the value of the expression.</p>
			<pre><code class="javascript">
var evens = [0, 2,  4,  6,  8,  10];
var odds  = evens.map(v => v + 1);
var nums  = evens.map((v, i) => v + i);
var pairs = evens.map(v => ({even: v, odd: v + 1}));

nums.forEach(v => {
  if (v % 5 === 0) fives.push(v);
});
			</code></pre>
		</div>
		<div class="slide">
			<h1>Arrow function (Lexical this)</h1>
			<p>Every new function defined its own this value</p>
			<pre><code class="javascript">
function Person() {
  var self = this;
  self.age = 0;

  setInterval(function growUp() {
    self.age++;
  }, 1000);
}
			</code></pre>
		</div>
		<div class="slide">
			<h1>Arrow function (Lexical this)</h1>
			<p>Arrows share the same lexical this as their surrounding code.</p>
			<pre><code class="javascript">
function Person(){
  this.age = 0;

  setInterval(() => {
    this.age++;
  }, 1000);
}
			</code></pre>
		</div>
		<div class="slide">
			<h1>Function parameters</h1>
			<p>Default function parameters allow formal parameters to be initialized with default values if no value or undefined is passed.</p>
			<pre><code class="javascript">
function defaultParameters(x, y = 7, z = 42) {
	return x + y + z
}
defaultParameters(1) === 50
			</code></pre>
		</div>
		<div class="slide">
			<h1>Function parameters</h1>
			<p>The rest parameter syntax allows to represent an indefinite number of arguments as an array.</p>
			<pre><code class="javascript">
function restParameter(x, y, ...a) {
	return (x + y) * a.length
}
restParameter(1, 2, "hello", true, 7) === 9
			</code></pre>
		</div>
		<div class="slide">
			<h1>String interpolation</h1>
			<p>Template strings are string literals allowing embedded expressions. You can use multi-line strings and string interpolation features with them.</p>
			<pre><code class="javascript">
var x = 1;
var y = 2;

console.log(`${ x } + ${ y } = ${ x + y }`); // "1 + 2 = 3"

console.log(`string text line 1
string text line 2`);
			</code></pre>
		</div>
		<div class="slide">
			<h1>Destructuring</h1>
			<p>The destructuring assignment syntax is an expression that makes it possible to extract data from arrays or objects using a syntax that mirrors the construction of array and object literals.</p>
			<pre><code class="javascript">
var list = [1, 2, 3];
var [a, , b] = list;
[b, a] = [a, b];

var today = { d: 6, m: 2, y: 2013 };
var { m: month, y: year } = today; // month = 2, year = 2013

function paramDestructuring([a, , b]) { /* ... */ }
			</code></pre>
		</div>
		<div class="slide">
			<h1>Modules</h1>
			<p>An ES6 module is a file containing JS code. Everything declared inside a module is local to the module, by default.</p>
			<p>You can use import and export in modules.</p>
			<pre><code class="javascript">
// lib/math.js
export const PI = 3.141593;
export function sum (x, y) { return x + y }

// app.js
import * as math from "lib/math"; // math.PI
import { sum, PI } from "lib/math"; // PI
			</code></pre>
			<i>You can export any top-level function, class, var, let, or const.</i>
		</div>
		<div class="slide">
			<h1>Classes</h1>
			<pre><code class="javascript">
class Shape {
	constructor (x, y) {
		this.move(x, y)
	}
	move (x, y) {
		this.x = x
		this.y = y
	}
}
			</code></pre>
		</div>
		<div class="slide">
			<h1>Classes</h1>
			<pre><code class="javascript">
class Circle extends Shape {
	constructor(x, y, radius) {
		super(x, y)
		this.radius = radius
	}

	set radius(radius)  { this.radius = radius; }
	get radius()        { return this.radius;   }
}

var circle = new Circle(0, 0 50);
circle.radius === 50;
			</code></pre>
		</div>
		<div class="slide">
			<h1>For of/in</h1>
			<pre><code class="javascript">
let arr = [3, 5, 7];
arr.foo = "hello";

for (let i in arr) {
	console.log(i); // logs "0", "1", "2", "foo"
}

for (let i of arr) {
	console.log(i); // logs "3", "5", "7"
}
			</code></pre>
		</div>
		<div class="slide">
			<h1>Set</h1>
			<pre><code class="javascript">
let s = new Set()
s.add("hello").add("goodbye").add("hello")
s.size === 2
s.has("hello") === true
for (let val of s.values()) // insertion order
	console.log(val)
			</code></pre>
		</div>
		<div class="slide">
			<h1>Map</h1>
			<pre><code class="javascript">
let m = new Map()
m.set("hello", 42)
m.set(s, 34)
m.get(s) === 34
m.size === 2
for (let [ key, val ] of m.entries())
	console.log(key + " = " + val)
			</code></pre>
		</div>
		<div class="slide">
			<h1>Built-In Methods</h1>
			<pre><code class="javascript">
// Object
Object.is()
Object.assign(dst, src1, ...);

// Arrow
Array.from(document.querySelectorAll('*')) // Returns a real Array
Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior
[0, 0, 0].fill(7, 1) // [0,7,7]
[1, 2, 3].find(x => x == 3) // 3
[1, 2, 3].findIndex(x => x == 2) // 1
[1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2]
["a", "b", "c"].entries() // iterator [0, "a"], [1,"b"], [2,"c"]
["a", "b", "c"].keys() // iterator 0, 1, 2
["a", "b", "c"].values() // iterator "a", "b", "c"

// String
"abcde".startsWith("ab")
"abcde".endsWith("de")
"abcde".includes("cd")
"abcde".repeat(3)

// Math
Math.acosh(3)
Math.hypot(3, 4)
Math.trunc(42.7)
Math.sign(7)
Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2)

// Number
Number.EPSILON
Number.isInteger(Infinity) // false
Number.isNaN("NaN") // false
			</code></pre>
		</div>
		<div class="slide">
			<h1>Promises</h1>
			<p>Promises are a library for asynchronous programming, they are a first class representation of a value that may be made available in the future.</p>
			<pre><code class="javascript">
function timeout(duration = 0) {
    return new Promise((resolve, reject) => setTimeout(resolve, duration))
}

var p = timeout(1000)
.then(() => console.log('Resolved'), () => console.warn('Rejected'))
.catch(err => console.error(err))
			</code></pre>
			<p>There is also a <code>catch()</code> method that behaves the same as <code>then()</code> when only a rejection handler is passed</p>
		</div>
		<div class="slide">
			<h1>Tail Call Optimization</h1>
			<p>A tail call is when a function is called as the last statement in another function.</p>
			<pre><code class="javascript">
function doSomething() {
    // optimized
    return doSomethingElse();

	// not optimized
    // return 1 + doSomethingElse(); // must add after returning

    // var result = doSomethingElse(); // call isn't in tail position
    // return result;

    // var func = () => num; // function is a closure
    // return func();
}
			</code></pre>
		</div>

		<header class="slide">
			<h1>Using ES6 Today</h1>
		</header>
		<div class="slide">
			<h1>ES6 in the browser</h1>
		</div>
		<div class="slide">
			<h1>ES6 in Node.js</h1>
		</div>
		<div class="slide">
			<h1>Transpilation</h1>
		</div>
		<header class="slide">
			<h1>Questions ?</h1>
		</header>
	</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
    <script src="assets/keynote.js/keynote.js" type="text/javascript"></script>
    <script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function () {
			var keynote = new KeynoteJS(".presentation");

			hljs.configure({tabReplace: '    '});

			var codeNodes = document.querySelectorAll('pre code');
			for (var i = 0, len = codeNodes.length; i < len; i++) {
				var codeNode = codeNodes[i];
				codeNode.innerHTML = codeNode.innerHTML.trim();
				hljs.highlightBlock(codeNode);
			}
		});
    </script>
</body>

</html>
